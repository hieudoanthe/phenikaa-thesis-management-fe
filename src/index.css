@tailwind base;
@tailwind components;
@tailwind utilities;

/* Override react-toastify colors - FORCE ERROR RED */
.Toastify__toast--error {
  background: #e53935 !important;
  color: white !important;
}

.Toastify__toast--success {
  background: #4caf50 !important;
  color: white !important;
}

.Toastify__toast--warning {
  background: #ff9800 !important;
  color: white !important;
}

.Toastify__toast--info {
  background: #2196f3 !important;
  color: white !important;
}

/* Mobile-friendly toast sizing */
@media (max-width: 640px) {
  .Toastify__toast-container {
    width: auto !important;
    max-width: min(320px, 90vw) !important;
    padding: 0 !important;
    right: 8px !important;
    left: auto !important;
  }

  /* Compact toast card */
  .Toastify__toast {
    min-height: 42px !important;
    padding: 8px 10px !important;
    border-radius: 10px !important;
    font-size: 13px !important;
    line-height: 1.35 !important;
    margin: 6px 0 !important;
    box-shadow: 0 6px 14px rgba(0, 0, 0, 0.12) !important;
  }

  /* Compact body spacing */
  .Toastify__toast-body {
    margin: 0 !important;
  }

  /* Smaller icon */
  .Toastify__toast-icon svg {
    width: 16px !important;
    height: 16px !important;
  }

  /* Smaller close button */
  .Toastify__close-button {
    display: none !important;
  }

  .Toastify__toast-body {
    padding-right: 8px !important;
  }
}

/* Default toast base (neutral). Use per-type colors below */
.Toastify__toast {
  background: #ffffff !important;
  color: inherit !important;
}

/* Keep per-type colors */
.Toastify__toast--success {
  background: #4caf50 !important;
  color: #ffffff !important;
}
.Toastify__toast--error {
  background: #e53935 !important;
  color: #ffffff !important;
}
.Toastify__toast--warning {
  background: #ff9800 !important;
  color: #ffffff !important;
}
.Toastify__toast--info {
  background: #2196f3 !important;
  color: #ffffff !important;
}

/* Thin scrollbar utility for dropdowns and panels */
.thin-scrollbar {
  scrollbar-width: thin; /* Firefox */
  scrollbar-color: #cbd5e1 transparent; /* thumb, track */
}
.thin-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
.thin-scrollbar::-webkit-scrollbar-thumb {
  background-color: #cbd5e1; /* slate-300 */
  border-radius: 9999px;
}
.thin-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

/* Custom scrollbar without arrow buttons */
.custom-scrollbar {
  scrollbar-width: thin; /* Firefox */
  scrollbar-color: #cbd5e1 transparent; /* thumb, track */
}
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: #cbd5e1;
  border-radius: 9999px;
}
.custom-scrollbar::-webkit-scrollbar-button {
  display: none; /* Hide arrow buttons */
}

/* Scrollbar contained within modal */
.scrollbar-contained {
  scrollbar-width: none; /* Firefox - hide completely */
  -ms-overflow-style: none; /* IE and Edge */
}
.scrollbar-contained::-webkit-scrollbar {
  width: 0px; /* Hide completely */
  background: transparent;
}
.scrollbar-contained:hover::-webkit-scrollbar {
  width: 6px; /* Show on hover */
}
.scrollbar-contained::-webkit-scrollbar-track {
  background: transparent;
}
.scrollbar-contained::-webkit-scrollbar-thumb {
  background-color: #cbd5e1;
  border-radius: 9999px;
}
.scrollbar-contained::-webkit-scrollbar-button {
  display: none; /* Hide arrow buttons */
}
.scrollbar-contained::-webkit-scrollbar-corner {
  background: transparent;
}
.thin-scrollbar::-webkit-scrollbar-button {
  display: none;
  width: 0;
  height: 0;
}

/* Hide scrollbar completely */
.no-scrollbar {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

/* Dark mode baseline so theme switch is visible */
.dark {
  color-scheme: dark;
}
.dark body {
  background-color: #1e293b; /* slate-800 - xám nhẹ hơn */
  color: #e5e7eb; /* gray-300 */
}
.dark .bg-white {
  background-color: #334155 !important; /* slate-700 - card dịu hơn */
}
.dark .bg-gray-50 {
  background-color: #1f2937 !important; /* gray-800 - nền khu vực phụ */
}
.dark .text-gray-900 {
  color: #f3f4f6 !important; /* gray-100 */
}
.dark .text-gray-700 {
  color: #e5e7eb !important; /* gray-300 */
}
.dark .border-gray-200 {
  border-color: #475569 !important; /* slate-600 - viền mềm hơn */
}
.no-scrollbar::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
  width: 0;
  height: 0;
}

/* Custom base styles */
@layer base {
  html,
  body,
  #root {
    height: 100dvh;
    overflow: hidden;
  }
  body {
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overscroll-behavior: none;
  }
}

/* Custom component styles */
@layer components {
  .btn-primary {
    @apply bg-secondary hover:bg-secondary-hover text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .input-field {
    @apply w-full px-4 py-3 text-base border-2 border-gray-300 rounded-lg outline-none transition-all duration-200 focus:border-info-500 focus:shadow-focus bg-white;
  }

  .input-label {
    @apply absolute top-3 left-4 text-base text-gray-500 transition-all duration-200 pointer-events-none bg-white px-1;
  }

  .input-group {
    @apply relative mb-5;
  }

  .fade-in {
    @apply opacity-0 animate-fade-in-up;
  }

  /* Custom select styles for react-select */
  .custom-select {
    @apply w-full;
  }

  .custom-select .select__control {
    @apply border-2 border-gray-300 rounded-lg min-h-[36px] xs:min-h-[40px] sm:min-h-[44px] font-semibold text-xs xs:text-sm sm:text-base transition-all duration-200;
  }

  .custom-select .select__control--is-focused {
    @apply border-info-500 shadow-focus;
  }

  .custom-select .select__option {
    @apply px-2 xs:px-3 py-2 xs:py-3 font-medium text-xs xs:text-sm;
  }

  .custom-select .select__option--is-selected {
    @apply bg-secondary text-white font-bold;
  }

  .custom-select .select__option--is-focused {
    @apply bg-gray-100 text-secondary;
  }

  /* Custom scrollbar for react-select dropdowns */
  .custom-select .select__menu {
    scrollbar-width: thin !important;
    scrollbar-color: #cbd5e1 transparent !important;
  }

  .custom-select .select__menu::-webkit-scrollbar {
    width: 4px !important;
    height: 4px !important;
  }

  .custom-select .select__menu::-webkit-scrollbar-thumb {
    background-color: #cbd5e1 !important;
    border-radius: 9999px !important;
  }

  .custom-select .select__menu::-webkit-scrollbar-track {
    background: transparent !important;
  }

  .custom-select .select__menu::-webkit-scrollbar-button {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
  }

  /* Alternative selectors for react-select */
  .select__menu {
    scrollbar-width: thin !important;
    scrollbar-color: #cbd5e1 transparent !important;
  }

  .select__menu::-webkit-scrollbar {
    width: 4px !important;
    height: 4px !important;
  }

  .select__menu::-webkit-scrollbar-thumb {
    background-color: #cbd5e1 !important;
    border-radius: 9999px !important;
  }

  .select__menu::-webkit-scrollbar-track {
    background: transparent !important;
  }

  .select__menu::-webkit-scrollbar-button {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
  }

  /* Global scrollbar override for all dropdowns */
  [class*="select__menu"] {
    scrollbar-width: thin !important;
    scrollbar-color: #cbd5e1 transparent !important;
  }

  [class*="select__menu"]::-webkit-scrollbar {
    width: 4px !important;
    height: 4px !important;
  }

  [class*="select__menu"]::-webkit-scrollbar-thumb {
    background-color: #cbd5e1 !important;
    border-radius: 9999px !important;
  }

  [class*="select__menu"]::-webkit-scrollbar-track {
    background: transparent !important;
  }

  [class*="select__menu"]::-webkit-scrollbar-button {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
  }

  .notification-dropdown {
    @apply absolute top-full right-0 bg-white rounded-xl shadow-lg border border-gray-200 z-50;
  }

  .user-dropdown-menu {
    @apply absolute top-full right-0 bg-white rounded-xl shadow-lg border border-gray-200 z-50;
  }

  /* Admin Layout Components */
  .admin-sidebar {
    @apply bg-gradient-to-br from-secondary to-secondary-light text-white shadow-lg;
  }

  .admin-header {
    @apply bg-white shadow-sm border-b border-gray-200 sticky top-0 z-30;
  }

  .admin-content {
    @apply flex-1 bg-gray-50;
  }

  /* Lecturer Layout Components */
  .lecturer-sidebar {
    @apply bg-gradient-to-br from-secondary to-secondary-light text-white shadow-lg;
  }

  .lecturer-header {
    @apply bg-white shadow-sm border-b border-gray-200 sticky top-0 z-30;
  }

  .lecturer-content {
    @apply flex-1 bg-gray-50;
  }

  /* Student Layout Components */
  .student-sidebar {
    @apply bg-gradient-to-br from-secondary to-secondary-light text-white shadow-lg;
  }

  .student-header {
    @apply bg-white shadow-sm border-b border-gray-200 sticky top-0 z-30;
  }

  .student-content {
    @apply flex-1 bg-gray-50;
  }

  /* Line clamp utilities for text truncation */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
}

/* Remove focus outline on Recharts containers when clicking the chart */
.recharts-responsive-container:focus,
.recharts-wrapper:focus,
.recharts-surface:focus {
  outline: none !important;
}
